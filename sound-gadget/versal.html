<!DOCTYPE html>
<html>
<head>
<title>Interval Player</title>
<script src="bower_components/versal-component-runtime/dist/runtime.min.js"></script>
<script src="bower_components/jquery/dist/jquery.js"></script>
<link rel="import" href="bower_components/versal-gadget-api/versal-gadget-api.html">
</head>

<body>

<div id="notesEditor">
  <span>Note 1: </span>
  <textarea id="note1"></textarea>
  <span> Octave: </span>
  <textarea id="x"></textarea><br>

  <span>Note 2: </span>
  <textarea id="note2"></textarea>

  <span> Octave: </span>
  <textarea id="y"></textarea><br><br>

</div>
	<span id="playBtn">Play</span>

	<script type="text/javascript">

	var playInterval = function()
	{
		var path='assets/Piano.ff.';
		var sound;


		sound = new Audio(path + document.getElementById("note1").value + document.getElementById("x").value +'.mp3');
		sound.play();


		setTimeout(this, 200);


		sound = new Audio(path + document.getElementById("note2").value + document.getElementById("y").value + '.mp3');
		sound.play();

		console.log('hi');

	}

	var playSound = function () {
		var path='assets/Piano.ff.';
		var note='C';
		var sound;
		for(var i=0; i<=7; i++)
		{
			sound=new Audio(path + note + i + '.mp3');
			sound.play();
		}
		console.log('played sound!');
	}

	window.addEventListener('HTMLImportsLoaded', function(){

	  var player = new VersalPlayerAPI();

	  $('#playBtn').click(playInterval);

	  player.on('editableChanged', function(editableObj){
	  });

	  player.on('attributesChanged', function(attrs){
	  });

	  player.startListening();
	  player.watchBodyHeight();

	});

	</script>
</body>
</html>
